{% extends "base.html" %}
{% block content %}
{% block meta %}
    <title>{{pageTitle}}</title>
    <meta name="title" property="title" content="{{pageTitle}}" />
    <meta name="og:title" property="og:title" content="{{pageTitle}}" />
    <meta name="twitter:title" property="twitter:title" content="{{pageTitle}}" />
    <meta name="description" property="description" content="{{pageDescr}}" />
    <meta name="og:description" property="og:description" content="{{pageDescr}}" />
    <meta name="twitter:description" property="twitter:description" content="{{pageDescr}}" />
    <meta name="og:url" property="og:url" content="https://hcd.iiitd.ac.in/{{slug}}" />
    <meta name="twitter:url" property="twitter:url" content="https://hcd.iiitd.ac.in/{{slug}}" />
{% endblock %}
<div class="container py-5 bg-white">
    <h4 class="mt-4 animated text-center text-dark fadeIn font-weight-bold">Faculty</h4>
    <div class="mt-3" id="link_tags"></div>
    <div class="p-2 p-md-0">
        <div class="row d-md-flex align-items-start align-items-stretch justify-content-start">
            {% for option in faculty_list %}
                <div class="mt-3 mt-md-5 col-12 col-md-6 col-lg-4 rounded itemlab {{option.Name.split(' ')[0]}}_{{option.Name.split(' ')[1]}} {{option.researchInterests}}" aria-label="{{option.Name}}">
                    <div class="rounded py-3 home_main border w-100 h-100" style="border-radius: 5px !important; border-color: #40ADA760 !important;">
                        <div onmouseover="this.timer=setTimeout(()=>{this.onclick()}, 1000);" onmouseout="if(this.timer)window.clearTimeout(this.timer);" onclick="show_inner('{{option.Name.split(' ')[0]}}_{{option.Name.split(' ')[1]}}')" class="d-flex justify-content-center align-items-start text-pointer" style="height: calc( 100vh /5 );" >
                            <img alt="{{option.image.split('.')[0]}}" class="rounded-circle" src='' data-src="../static/images/faculty/{{option.image}}" style="max-height: 100%; max-width: 100%;">
                        </div>
                        <div class="mt-4 row-content text-center">
                            <h4 onmouseover="this.timer=setTimeout(()=>{this.onclick()}, 1000);" onmouseout="if(this.timer)window.clearTimeout(this.timer);" onclick="show_inner('{{option.Name.split(' ')[0]}}_{{option.Name.split(' ')[1]}}')" class="text-pointer font-weight-bolder mt-3 text-green">{{option.Name}}</h4>
                            <h6 onmouseover="this.timer=setTimeout(()=>{this.onclick()}, 1000);" onmouseout="if(this.timer)window.clearTimeout(this.timer);" onclick="show_inner('{{option.Name.split(' ')[0]}}_{{option.Name.split(' ')[1]}}')" class="text-pointer font-weight-bold text-green">{{option.Post}}</h6>
                            <p  onmouseover="this.timer=setTimeout(()=>{this.onclick()}, 1000);" onmouseout="if(this.timer)window.clearTimeout(this.timer);" onclick="show_inner('{{option.Name.split(' ')[0]}}_{{option.Name.split(' ')[1]}}')" class="text-pointer py-3 gara-proreg ellipis-3 text-dark">
                                {{option.Degree}}
                            </p>
                            {% if ',' in option.researchInterests %}
                                {% for interest_ in option.researchInterests.split(',')[:3] %}
                                <a onclick="addtag('{{interest_}}')" class="bg-light btn btn-sm m-1 gara-proreg no-transform-imp" style="color: rgb(95, 95, 95);">
                                    {{interest_}}
                                </a>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6 col-lg-4 pt-3 animated faster flipInY itemlab {{option.Name.split(' ')[0]}}_{{option.Name.split(' ')[1]}}_card card_inner">
                    <div class="rounded py-3 px-2 border w-100 h-100" style="border-radius: 5px; border-color: #40ADA760 !important;">
                        <div class="d-flex justify-content-start align-items-center">
                            <img alt="{{option.image.split('.')[0]}}" class="rounded-circle" src="" data-src="../static/images/faculty/{{option.image}}" style="height: 100px; width: auto; max-height: 100%; max-width: 100%;">
                            <div class="h-100">
                                <h5 class="text-green ml-3">
                                    {{option.Name}}
                                </h5>
                                <h6 class="text-green ml-3">
                                    {{option.Post}}
                                </h6>
                            </div>
                        </div>
                        <div class="border-top border-green mt-3">
                            <h6 class="mt-4 text-green">About {{option.Name}}</h6>
                            <p class="text-gray">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it t</p>
                            {% if ',' in option.researchInterests %}
                                <h6 class="mt-4 text-green">Research Areas</h6>
                                {% for interest_ in option.researchInterests.split(',') %}
                                <a onclick="addtag('{{interest_}}')" class="m-1 btn btn-md border text-gray no-transform-imp" style="border-color: #40ADA770 !important;">
                                    {{interest_}}
                                </a>
                                {% endfor %}
                            {% endif %}
                        </div>
                        <div class="mt-4 d-flex justify-content-between">
                            <svg class="text-pointer text-green" onclick="hide_inner('{{option.Name.split(' ')[0]}}_{{option.Name.split(' ')[1]}}')" class="ml-2 mb-2 mt-2" style="height: 20px;" aria-hidden="true" focusable="false" data-prefix="fal" data-icon="long-arrow-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M136.97 380.485l7.071-7.07c4.686-4.686 4.686-12.284 0-16.971L60.113 273H436c6.627 0 12-5.373 12-12v-10c0-6.627-5.373-12-12-12H60.113l83.928-83.444c4.686-4.686 4.686-12.284 0-16.971l-7.071-7.07c-4.686-4.686-12.284-4.686-16.97 0l-116.485 116c-4.686 4.686-4.686 12.284 0 16.971l116.485 116c4.686 4.686 12.284 4.686 16.97-.001z" class=""></path></svg>
                            <ul>
                                <a rel='noopener noreferrer' target="_blank" href="{{option.link}}"><img alt="{{option.Name}} - Twitter" src="../static/images/twitter_svg.svg" height="25"></a>
                                <a rel='noopener noreferrer' target="_blank" href="{{option.link}}"><img alt="{{option.Name}} - LinkedIn" src="../static/images/linkedin_hcd.svg" height="25"></a>
                            </ul>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>  
    </div>
</div>
{% endblock %}
{% block scripts %}
<script>
    function hide_inner(b){
        $('.'+b.toString()).removeClass('d-none');
        $('.'+b.toString()+'_card').addClass('d-none');
    }
    function show_inner(b){
        $('.'+b.toString()).addClass('d-none');
        $('.'+b.toString()+'_card').removeClass('d-none');
    }
    $(document).ready(function(){
        setTimeout(()=>{
            $('img').each(function(){
                $(this).attr('src', $(this).attr('data-src'));
            });
            $('.card_inner').each(function(){
                $(this).addClass('d-none');
            });
            let list_argument_tags= '{{tags}}';
            if(list_argument_tags!=='None'){
                addtag(list_argument_tags);
            }
        }, 800);
    });
    $(window).resize(function(){
        $(".itemlab").each(function(){
            $(this).css({'height': 'auto'});
        });
    });
    function equal_heights(){
        let maxs= 0;
        $(".itemlab").each(function(){
            maxs= Math.max(maxs, $(this).height());
        });
        $(".itemlab").each(function(){
            $(this).height(maxs);
        });
    }
    let selected_tags_arrays= [];
    function addtag(s){
        let the_class= s.toString().trim();
        let index = selected_tags_arrays.indexOf(the_class);
        if (!(index > -1)) {
            selected_tags_arrays.push(the_class);
            let split_class= the_class.split(' ');
            let assign_id= '';
            for(let i in split_class){
                assign_id+= split_class[i].toString();
            }
            $('#link_tags').html($('#link_tags').html()+'<button id='+'"'+assign_id.toString()+'"'+'style="cursor: context-menu;" class="animated faster fadeIn bg-light btn btn-sm m-2 p-2">'+the_class+'<a class="text-pointer" onclick="removetag('+("'"+the_class.toString()+"'")+')">&nbsp;<svg aria-hidden="true" focusable="false" data-prefix="fal" style="height: 20px; width: 20px;" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z" class=""></path></svg></a>'+'</button>');
            referesh_tags_list();
        }
    }
    function removetag(s){
        let the_class= s.toString().trim();
        let index = selected_tags_arrays.indexOf(the_class);
        if (index > -1) {
            selected_tags_arrays.splice(index, 1);
            let split_class= the_class.split(' ');
            let assign_id= '';
            for(let i in split_class){
                assign_id+= split_class[i].toString();
            }
            $('#'+assign_id.toString()).remove();
            referesh_tags_list();
        }
    }
    function referesh_tags_list(){
        if(selected_tags_arrays.length<1){
            $('#link_tags').hide();
            $('.itemlab').each(function(){
                $(this).removeClass('d-none');  
                $(this).addClass('animated faster fadeIn');
            });
        }
        else{
            $('#link_tags').show();
            let check_tags_text= $('#link_tags').html().includes('Tags:');
            if(!check_tags_text) $('#link_tags').html('Tags: '+$('#link_tags').html());
        }
        selected_tags_arrays.forEach((element)=>{
            $('.itemlab').each(function(){
                if($(this).attr('class').indexOf(element)===-1){
                    $(this).addClass('d-none');
                    $(this).removeClass('animated faster fadeIn');
                }
                else{
                    $(this).removeClass('d-none');
                    $(this).addClass('animated faster fadeIn');
                }  
            });
        });
        $('.card_inner').each(function(){
            $(this).addClass('d-none');
        });
        $("html, body").animate({ scrollTop: 0 }, "slow");
    }
</script>
{% endblock %}